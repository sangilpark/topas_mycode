import os
from math import log

def calculate_beam_option(bcm_opt):
    # bcm_opt 형식이 'Bx_y'라고 가정 (예: 'B5_1')
    x = int(bcm_opt[1])  # 'B' 다음의 숫자
    y = int(bcm_opt[3])  # '_' 다음의 숫자
    return x + (y - 1) * 8

def make_input(fs, rm, ss, bcm_opt, stoppos, beam_e, n_history, n_nodes, out_d):
    BCM = [
			218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 217, 217, 216, 216, 214, 213, 212, 211, 208, 207, 205, 204, 201, 200, 199, 197, 196, 196, 196, 197, 199, 200, 202, 205, 207, 210, 212, 216, 218, 221, 224, 227, 229, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 226, 226, 225, 225, 223, 223, 222, 222, 221, 221, 220, 220, 219, 219, 218, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 212, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 222, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 218, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216,
			255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 252, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 245, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 249, 249, 248, 248, 247, 247, 245, 244, 244, 243, 242, 242, 240, 239, 238, 236, 235, 235, 234, 232, 231, 230, 229, 226, 225, 223, 222, 221, 220, 218, 216, 214, 213, 212, 209, 208, 207, 204, 203, 201, 199, 198, 196, 194, 192, 190, 188, 187, 185, 183, 181, 181, 181, 181, 181, 181, 181, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 138, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 116, 116, 116, 116, 116, 116, 116, 116, 116, 116, 116, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
			188, 188, 188, 188, 188, 188, 188, 188, 187, 187, 187, 187, 187, 187, 187, 187, 187, 187, 187, 185, 185, 185, 185, 185, 185, 184, 184, 184, 184, 184, 184, 184, 184, 181, 181, 179, 179, 178, 178, 178, 176, 176, 175, 173, 172, 170, 170, 169, 169, 168, 166, 165, 163, 162, 160, 159, 159, 157, 157, 157, 156, 156, 156, 156, 156, 157, 157, 157, 159, 159, 175, 175, 175, 175, 175, 175, 175, 176, 178, 181, 184, 184, 184, 184, 184, 184, 184, 184, 184, 185, 185, 187, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 188, 200, 200, 200, 200, 200, 200, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 205, 226, 226, 226, 226, 226, 226, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			132, 132, 132, 132, 132, 132, 132, 132, 131, 131, 131, 131, 131, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 123, 122, 121, 120, 119, 119, 119, 117, 116, 115, 113, 113, 112, 111, 110, 108, 107, 107, 105, 104, 103, 102, 102, 102, 102, 101, 101, 102, 102, 102, 102, 103, 104, 105, 107, 107, 109, 111, 112, 113, 115, 117, 119, 119, 120, 122, 124, 124, 125, 127, 128, 129, 130, 130, 131, 132, 132, 133, 133, 134, 134, 134, 134, 135, 135, 134, 134, 134, 134, 133, 133, 132, 132, 132, 131, 130, 130, 129, 128, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 128, 128, 129, 129, 129, 129, 129, 130, 130, 130, 130, 130, 131, 132, 132, 133, 133, 134, 135, 136, 136, 137, 137, 137, 138, 140, 140, 141, 141, 141, 141, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			209, 209, 208, 208, 208, 208, 208, 208, 208, 208, 208, 208, 207, 207, 207, 207, 206, 206, 206, 205, 205, 205, 204, 204, 203, 203, 202, 202, 202, 201, 201, 200, 200, 199, 199, 198, 197, 196, 196, 195, 194, 193, 191, 190, 190, 189, 188, 186, 185, 184, 183, 183, 182, 181, 180, 180, 180, 179, 179, 178, 178, 177, 177, 177, 177, 177, 177, 177, 177, 178, 178, 178, 179, 180, 180, 180, 181, 182, 183, 183, 184, 184, 185, 186, 187, 187, 188, 188, 189, 189, 190, 190, 190, 190, 190, 190, 191, 191, 191, 191, 192, 192, 192, 191, 191, 191, 191, 190, 190, 190, 190, 190, 189, 189, 189, 189, 188, 188, 188, 188, 188, 189, 189, 189, 189, 190, 190, 190, 190, 190, 190, 190, 190, 190, 189, 188, 187, 186, 185, 185, 185, 184, 184, 184, 183, 183, 183, 183, 182, 182, 181, 180, 179, 178, 177, 176, 175, 175, 174, 174, 174, 175, 175, 176, 177, 178, 179, 180, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 193, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 197, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 190, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 185, 190, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 225, 225, 225, 225, 225, 225, 225, 227, 227, 227, 227, 228, 228, 228, 228, 229, 229, 229, 229, 229, 229, 229, 229, 229, 229, 229, 229, 229, 229, 229, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 246, 245, 245, 245, 245, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 243, 245, 245, 245, 245, 246, 246, 247, 247, 249, 249, 250, 250, 251, 251, 252, 252, 254, 254, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 254, 252, 252, 252, 252, 252, 251, 251, 251, 251, 250, 250, 249, 249, 247, 247, 246, 246, 246, 245, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 247, 247, 247, 247, 247, 247, 247, 247, 247, 247, 247, 249, 249, 249, 249, 249, 249, 250, 250, 250, 250, 250, 249, 249, 249, 249, 249, 249, 247, 247, 247, 246, 246, 246, 245, 245, 243, 243, 243, 242, 242, 242, 241, 241, 241, 241, 239, 239, 239, 239,
			236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 236, 224, 224, 224, 224, 223, 223, 221, 220, 220, 219, 218, 217, 215, 215, 214, 214, 213, 213, 212, 212, 210, 210, 210, 210, 210, 210, 210, 210, 210, 209, 209, 209, 208, 208, 207, 207, 205, 205, 204, 204, 204, 202, 202, 202, 202, 204, 204, 204, 205, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 226, 226, 226, 228, 228, 228, 228, 229, 230, 230, 231, 233, 234, 235, 236, 237, 239, 239, 239, 239, 239, 239, 239, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 239, 239, 239, 240, 240, 240, 241, 241, 242, 242, 244, 244, 245, 245, 246, 246, 247, 249, 249, 249, 250, 250, 250, 250, 250, 249, 249, 249, 247, 247, 247, 249, 249, 250, 250, 251, 252, 252, 255, 252, 252, 252, 251, 251, 250, 249, 249, 247, 246, 245, 244, 242, 241, 240, 239, 237, 235, 234, 233, 231, 230, 229, 228, 226, 225, 224, 223, 220, 219, 218, 217, 214, 213, 210, 209, 207, 205, 204, 202, 201, 201, 201, 201, 201, 201, 202, 202, 204, 204, 204, 204, 204, 204, 204, 202, 202, 202, 202, 202, 202, 202, 202,
			239, 239, 239, 239, 239, 239, 239, 239, 239, 220, 220, 219, 218, 218, 217, 217, 215, 215, 214, 214, 214, 213, 213, 213, 213, 214, 214, 214, 214, 215, 215, 217, 217, 218, 219, 219, 220, 222, 223, 225, 227, 228, 229, 232, 233, 236, 237, 239, 241, 242, 244, 246, 247, 248, 249, 251, 252, 253, 255, 255, 255, 255, 255, 253, 252, 251, 249, 248, 246, 244, 242, 241, 238, 237, 236, 234, 233, 232, 232, 231, 229, 228, 228, 227, 227, 225, 225, 224, 224, 224, 223, 223, 222, 222, 220, 220, 219, 218, 218, 217, 215, 214, 213, 212, 210, 209, 208, 205, 204, 201, 201, 201, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 196, 227, 227, 227, 227, 227, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 233, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227,
			251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 251, 252, 252, 253, 253, 255, 255, 255, 253, 253, 252, 252, 251, 249, 248, 247, 246, 244, 243, 242, 241, 238, 237, 236, 234, 233, 231, 229, 228, 227, 226, 224, 223, 222, 221, 219, 218, 217, 216, 213, 212, 211, 209, 207, 206, 203, 202, 199, 198, 195, 194, 193, 190, 189, 187, 185, 184, 183, 180, 179, 178, 175, 174, 172, 169, 167, 164, 162, 159, 157, 154, 153, 150, 148, 146, 144, 143, 140, 139, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 157, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 75, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 213, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			199, 199, 199, 199, 199, 199, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 164, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 214, 214, 214, 204, 204, 204, 204, 204, 204, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			129, 129, 129, 129, 129, 129, 129, 129, 129, 129, 129, 129, 129, 129, 128, 128, 128, 128, 126, 126, 126, 125, 125, 124, 124, 124, 124, 124, 124, 122, 122, 122, 122, 121, 121, 121, 120, 120, 119, 118, 118, 118, 117, 116, 116, 116, 115, 113, 113, 112, 111, 110, 110, 110, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 109, 110, 110, 110, 111, 112, 113, 113, 115, 116, 116, 117, 117, 118, 118, 119, 120, 121, 121, 122, 122, 124, 124, 125, 126, 128, 129, 129, 129, 130, 130, 132, 132, 132, 132, 132, 132, 130, 130, 129, 129, 129, 126, 125, 124, 124, 122, 121, 121, 119, 119, 118, 118, 118, 118, 118, 118, 118, 118, 118, 119, 120, 121, 122, 124, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 238, 238, 238, 238, 238, 238, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 238, 238, 238, 239, 239, 240, 240, 242, 242, 243, 243, 244, 244, 244, 246, 246, 246, 246, 244, 244, 243, 243, 242, 240, 239, 239, 238, 238, 238, 238, 238, 239, 239, 239, 239, 239, 239, 239, 238, 238, 237, 237, 235, 235, 235, 237, 237, 237, 238, 238, 239, 239, 240, 242, 242, 243, 244, 244, 246, 246, 247, 246, 246, 246, 246, 244, 244, 244, 243, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 244, 243, 243, 243, 243, 242, 242, 240, 240, 239, 238, 238, 237, 237, 237, 237, 235, 235, 235, 235, 235, 235, 234, 234, 234, 233, 233, 233, 233, 233, 233, 233, 233, 234, 234, 235, 235, 235, 237, 237, 238, 238, 239, 239, 239, 238, 238, 238, 237, 235, 234, 233, 233, 231, 230, 230, 229, 229, 227, 227, 226, 226, 225, 225, 223, 223, 223, 223, 223, 225, 226, 226, 227, 229, 230, 231, 233, 234, 235, 237, 238, 239, 240, 242, 243, 244, 246, 247, 248, 250, 251, 252, 252, 254, 254, 254, 255, 255, 255, 254, 254, 254, 254, 252, 252, 252, 252, 252, 252, 252, 252, 252, 251, 251, 251, 251, 250, 250, 248, 248, 247, 247, 246, 246, 246, 246, 244, 244,
			240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 242, 243, 243, 243, 243, 243, 243, 243, 242, 242, 242, 242, 242, 242, 242, 241, 241, 241, 240, 240, 240, 240, 239, 239, 239, 239, 240, 240, 240, 240, 241, 241, 241, 242, 242, 243, 243, 244, 244, 244, 245, 247, 247, 248, 249, 250, 250, 251, 252, 252, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 253, 253, 252, 252, 251, 250, 250, 249, 248, 248, 247, 245, 244, 243, 242, 241, 240, 238, 237, 236, 235, 233, 232, 232, 231, 230, 230, 228, 228, 228, 228, 228, 228, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 231, 232, 232, 233, 234, 234, 235, 235, 235, 235, 235, 235, 235, 235, 236, 236, 236, 236, 236, 236, 236, 235, 234, 233, 232, 231, 230, 228, 227, 226, 225, 224, 223, 222, 221, 219, 217, 216, 214, 211, 210, 208, 207, 206, 205, 204, 204, 203, 202, 202, 202, 202, 203, 203, 204, 205, 206, 207, 207, 208, 209, 209, 210, 211, 213, 214, 215, 217, 218, 219, 221, 222, 223, 224, 224, 225, 225, 226, 226, 226, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 226, 226, 226, 227, 227, 227, 227, 228, 228, 228, 228, 228, 228,
			246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 248, 248, 248, 248, 248, 249, 249, 249, 250, 250, 252, 252, 252, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 252, 252, 250, 250, 249, 249, 248, 248, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 248, 248, 249, 250, 250, 252, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 252, 252, 252, 250, 250, 252, 252, 252, 253, 253, 253, 253, 253, 253, 253, 252, 252, 252, 250, 250, 249, 249, 248, 246, 245, 242, 241, 239, 238, 238, 237, 235, 235, 235, 235, 235, 235, 237, 237, 237, 238, 238, 238, 238, 238, 238, 238, 238, 237, 237, 237, 237, 237, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 234, 234, 234, 234, 234, 233, 233, 233, 233, 234, 234, 234, 234, 235, 235, 237, 237, 237, 238, 238, 238, 239, 239, 239, 241, 241, 242, 242, 242, 242, 244, 244, 244, 244, 244, 245, 245, 245, 245, 246, 246, 246,
			235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 235, 223, 223, 223, 224, 224, 224, 223, 223, 223, 223, 221, 221, 221, 221, 221, 220, 220, 220, 220, 220, 220, 221, 221, 221, 221, 223, 223, 223, 223, 223, 223, 223, 223, 221, 220, 219, 219, 218, 218, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 228, 228, 228, 228, 229, 229, 230, 230, 231, 231, 232, 234, 235, 236, 237, 239, 241, 242, 245, 246, 247, 250, 251, 252, 252, 252, 252, 251, 251, 250, 250, 249, 249, 249, 249, 249, 249, 250, 250, 250, 251, 251, 252, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 252, 252, 251, 250, 249, 247, 245, 244, 241, 239, 236, 234, 231, 229, 226, 224, 220, 218, 215, 211, 209, 205, 202, 199, 197, 194, 192, 191, 189, 188, 188, 187, 188, 188, 189, 191, 192, 194, 196, 198, 199, 202, 204, 206, 209, 211, 214, 215, 218, 220, 221, 224, 225, 226, 226, 228, 228, 229, 229, 229, 229, 229,
			255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 208, 208, 208, 208, 207, 207, 207, 207, 206, 206, 206, 205, 205, 204, 204, 204, 202, 202, 201, 201, 200, 200, 199, 199, 198, 198, 198, 197, 197, 197, 197, 195, 195, 195, 195, 197, 197, 197, 198, 199, 200, 201, 202, 204, 206, 207, 208, 209, 210, 212, 213, 213, 213, 214, 214, 214, 213, 213, 213, 212, 210, 210, 209, 208, 208, 207, 206, 206, 205, 204, 202, 202, 201, 200, 199, 199, 198, 197, 195, 194, 194, 193, 193, 192, 192, 191, 191, 191, 190, 188, 188, 186, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 168, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98, 98,
			255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 252, 252, 252, 251, 251, 251, 250, 250, 250, 249, 249, 248, 248, 247, 247, 246, 245, 245, 244, 243, 243, 242, 241, 240, 239, 238, 238, 237, 236, 235, 234, 232, 231, 230, 229, 228, 226, 225, 224, 222, 221, 220, 218, 217, 215, 214, 212, 210, 209, 207, 205, 204, 202, 200, 198, 196, 194, 192, 190, 188, 186, 184, 182, 180, 178, 176, 174, 172, 169, 167, 165, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 163, 145, 145, 145, 145, 145, 145, 145, 145, 145, 145, 145, 145, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 100, 100, 115, 115, 115, 115, 115, 115, 115, 115, 115, 115, 115, 115, 120, 120, 120, 120, 120, 120, 120, 120, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125, 125,
			246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 244, 244, 244, 244, 242, 242, 242, 242, 238, 238, 238, 237, 237, 237, 237, 237, 237, 237, 237, 237, 235, 235, 233, 233, 233, 233, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 231, 233, 233, 233, 233, 235, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 237, 238, 238, 238, 242, 244, 244, 246, 246, 246, 246, 246, 248, 248, 249, 251, 251, 251, 251, 251, 251, 251, 251, 253, 253, 251, 251, 251, 251, 251, 251, 249, 249, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 249, 249, 249, 249, 251, 251, 251, 251, 251, 233, 235, 237, 237, 237, 238, 242, 242, 246, 246, 248, 249, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			128, 128, 128, 128, 128, 127, 127, 127, 127, 127, 127, 127, 127, 126, 126, 126, 126, 126, 126, 126, 126, 124, 124, 124, 124, 124, 124, 124, 124, 123, 123, 122, 122, 121, 120, 120, 120, 120, 119, 119, 118, 117, 117, 116, 116, 114, 114, 113, 113, 112, 111, 110, 110, 110, 109, 109, 109, 108, 108, 108, 108, 108, 108, 109, 109, 109, 110, 110, 110, 111, 112, 113, 114, 114, 116, 117, 118, 119, 119, 120, 120, 121, 122, 123, 123, 124, 124, 124, 124, 124, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 126, 124, 124, 124, 124, 124, 123, 122, 121, 121, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 121, 121, 121, 122, 122, 123, 123, 124, 124, 124, 124, 124, 124, 124, 124, 124, 124, 124, 124, 124, 126, 126, 126, 127, 127, 127, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 130, 131, 132, 133, 134, 134, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 175, 175, 175, 175, 180, 180, 180, 180, 180, 180, 210, 210, 210, 210, 230, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 198, 195, 194, 193, 192, 191, 191, 190, 189, 189, 187, 187, 186, 186, 186, 184, 184, 184, 184, 184, 184, 184, 184, 186, 186, 186, 186, 186, 187, 187, 187, 189, 189, 190, 190, 191, 191, 191, 191, 192, 192, 193, 193, 193, 194, 194, 194, 195, 195, 194, 194, 194, 193, 192, 192, 191, 190, 189, 189, 187, 186, 186, 186, 186, 186, 186, 186, 184, 184, 184, 184, 184, 183, 183, 182, 182, 181, 180, 178, 178, 178, 177, 177, 175, 175, 175, 175, 175, 174, 174, 172, 171, 170, 169, 168, 166, 165, 165, 163, 163, 162, 162, 162, 162, 162, 162, 162, 162, 163, 163, 163, 165, 165, 165, 166, 166, 166, 166, 166, 168, 168, 168, 168, 168, 168, 168, 166, 166, 166, 166, 166, 166, 166, 166, 165, 165, 163, 163, 163, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 162, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 162, 162, 165, 166, 168, 170, 172, 174, 175, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
			233, 233, 233, 233, 233, 233, 233, 233, 234, 234, 234, 234, 234, 235, 235, 235, 236, 236, 236, 237, 237, 238, 238, 239, 239, 241, 241, 242, 242, 243, 243, 244, 245, 245, 246, 246, 247, 248, 248, 249, 249, 251, 251, 252, 252, 252, 253, 253, 253, 253, 253, 254, 254, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 254, 254, 253, 253, 253, 253, 252, 252, 252, 252, 252, 251, 251, 251, 251, 249, 249, 248, 248, 248, 247, 247, 247, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 245, 245, 245, 245, 245, 245, 245, 244, 244, 244, 243, 242, 242, 241, 239, 238, 237, 235, 235, 234, 233, 232, 232, 232, 231, 231, 231, 231, 231, 231, 232, 232, 232, 232, 232, 233, 234, 234, 235, 235, 236, 236, 236, 236, 235, 234, 234, 233, 232, 231, 229, 228, 227, 226, 226, 225, 224, 223, 222, 220, 219, 218, 216, 216, 215, 214, 214, 213, 213, 212, 212, 210, 209, 208, 207, 206, 205, 204, 203, 202, 200, 199, 198, 197, 196, 195, 194, 193, 193, 193, 192, 192, 192, 190, 190, 189, 189, 188, 188, 187, 187, 187, 187, 187, 187, 187, 188, 188, 189, 190, 192, 192, 193, 194, 195, 195, 195, 196, 196, 196, 196, 196, 195, 194, 194, 193, 193, 192, 192, 190, 190, 189, 189, 189, 189, 188, 188, 188, 188,
			240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 241, 241, 241, 241, 241, 241, 241, 241, 241, 241, 240, 240, 240, 240, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 238, 240, 240, 240, 240, 241, 241, 242, 242, 244, 244, 245, 245, 246, 246, 246, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 249, 249, 249, 250, 250, 252, 252, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 253, 252, 252, 252, 252, 250, 250, 250, 250, 250, 250, 250, 250, 250, 249, 249, 248, 248, 248, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 246, 248, 248, 248, 248, 248, 248, 248, 246, 246, 245, 244, 244, 242, 242, 242, 242, 241, 241, 242, 242, 242, 241, 241, 241, 240, 240, 238, 237, 236, 234, 233, 232, 230, 230, 229, 229, 228, 228, 228, 229, 229, 230, 232, 232, 233, 234, 236, 236, 236, 236, 236, 236, 236, 234, 234, 233, 232, 230, 230, 229, 229, 228, 228, 226, 225, 225, 224, 224, 222, 222, 221, 221, 221, 221, 220, 220, 220, 221, 221, 221, 222, 222, 224, 225, 226, 228, 229, 230, 232, 234, 237, 238, 241, 244, 245, 248, 249, 250, 252, 253, 255, 255, 255, 255, 255, 255, 255,
			232, 232, 232, 232, 232, 232, 232, 232, 232, 232, 230, 230, 230, 230, 230, 230, 230, 230, 229, 229, 229, 229, 229, 228, 228, 228, 228, 228, 228, 227, 227, 227, 227, 227, 227, 227, 227, 227, 227, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 225, 227, 227, 228, 228, 229, 230, 232, 233, 234, 236, 237, 238, 241, 242, 243, 245, 246, 247, 248, 250, 251, 251, 251, 251, 251, 251, 251, 251, 251, 250, 250, 250, 250, 248, 247, 246, 245, 243, 242, 241, 238, 237, 236, 234, 233, 232, 230, 229, 229, 228, 228, 227, 227, 227, 225, 225, 227, 227, 227, 227, 228, 229, 229, 230, 232, 232, 233, 233, 234, 234, 234, 234, 236, 236, 236, 236, 236, 237, 237, 238, 238, 239, 239, 241, 241, 242, 243, 243, 245, 245, 246, 246, 246, 246, 246, 245, 245, 245, 243, 243, 243, 245, 245, 246, 246, 246, 247, 247, 247, 246, 246, 246, 246, 246, 246, 247, 247, 247, 248, 248, 250, 250, 251, 251, 252, 252, 252, 252, 252, 252, 252, 251, 251, 251, 251, 251, 251, 252, 252, 252, 252, 252, 255, 252, 252, 252, 252, 252, 251, 251, 250, 248, 247, 246, 245, 243, 242, 241, 238, 237, 234, 232, 229, 227, 223, 220, 218, 215, 212, 210, 207, 206, 204, 201, 200, 197, 196, 196, 195, 195, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 194, 205
    ]

    #print(len(BCM)) # should be 6144
    
    outputfilename = "RecordPhase.txt"
    with open(outputfilename, 'w') as outputfile:
        outputfile.write("includeFile = N01_IC1.txt N02_FS.txt N03_RM.txt N05_SS.txt N07_IC2.txt N08_SNT-1.txt ConstantsForNozzles.txt\n")
        outputfile.write(f"Ge/RMW_{(int(rm)+2)//3}/RotZ = Tf/RMW_Rotation/Value deg\n")
        outputfile.write("Ge/CheckForOverlaps = \"t\"\n")
        
        # BeamWeight 값 작성
        outputfile.write("dv:Tf/BeamWeight/Times = 256 ")
        outputfile.write(" ".join([f"{i*3.921569e-001:.6e}" for i in range(256)]) + "\n")
        
        outputfile.write("iv:Tf/BeamWeight/Values = 256 ")
        beam_option = calculate_beam_option(bcm_opt)
        outputfile.write("0 0 0 ")
        for i in range((beam_option-1)*256+3, beam_option*256):
            outputfile.write(f"{BCM[i]} ")
        outputfile.write("\n")

        accumulate_particle = sum(BCM[(beam_option-1)*256+3:(beam_option-1)*256+int(stoppos)-1])
        print(f"total {accumulate_particle} particles/nHistory")

        outputfile.write("s:Tf/BeamCurrent/Function = \"Step\"\n")
        outputfile.write("dv:Tf/BeamCurrent/Times = 1 100 ms\n")
        outputfile.write(f"iv:Tf/BeamCurrent/Values = 1 {n_history}\n")
        outputfile.write("i:Tf/BCM_1/Value = Tf/BeamCurrent/Value * Tf/BeamWeight/Value\n")
        outputfile.write("So/Demo/NumberOfHistoriesInRun= Tf/BCM_1/Value\n")

        stop = float(stoppos) / 256 * 100
        outputfile.write(f"d:Tf/TimelineEnd={stop:.6f} ms\n")
        outputfile.write(f"i:Tf/NumberOfSequentialTimes={stoppos}\n")

        outputfile.write(f"Ge/RMW/Track = -1 * Ge/RMW/Track{rm} deg\n")
        outputfile.write(f"d:Ge/RMW/Track/zero_angle = Ge/RMW/Track{rm} - Ge/RMW/Small/Track{(int(rm)+2)%3} deg\n")

        outputfile.write("s:Tf/RMW_Rotation/Function = \"Linear deg\"\n")
        outputfile.write("d:Tf/RMW_Rotation/Rate = 3.6 deg/ms\n")
        outputfile.write("d:Tf/RMW_Rotation/StartValue = Ge/RMW/Track/zero_angle deg\n")
        outputfile.write("d:Tf/RMW_Rotation/RepetitionInterval = 100. ms\n")

        outputfile.write("Ts/PauseBeforeSequence=\"F\"\n")
        outputfile.write("i:Ts/ShowHistoryCountAtInterval = 0\n")

        for s in fs:
            if s != '0':
                outputfile.write(f"Ge/Scatterer1/Lollipop{s} = Ge/Scatterer1/RotZ_InBeam deg\n")

        outputfile.write(f"d:Ge/Scatterer2/Holder/RotZ = Ge/Scatterer2/RotZForS{ss} deg\n")

        outputfile.write("Ge/Snout/TransZ = -432.5 mm\n")
        outputfile.write("Ge/Snout/SNTTypeR1 = Ge/Snout/SNT250R1 mm\n")
        outputfile.write("Ge/Snout/SNTTypeR2 = Ge/Snout/SNT250R2 mm\n")

        # Beam 설정
        outputfile.write("s:So/Demo/Component              = \"BeamPosition\"\n")
        outputfile.write("s:So/Demo/BeamPositionCutoffShape= \"Ellipse\"\n")
        outputfile.write(f"d:So/Demo/BeamEnergy             = {beam_e} MeV\n")
        energy_spread = (1.0289-0.0008*((log(float(beam_e))-3.432)/0.5636))/float(beam_e)*100
        outputfile.write(f"u:So/Demo/BeamEnergySpread       = {energy_spread:.6f}\n")

        # Phase-space 설정
        outputfile.write("s:So/Demo/BeamPositionDistribution = \"Gaussian\"\n")
        outputfile.write("d:So/Demo/BeamPositionCutoffX = 0.1 cm\n")
        outputfile.write("d:So/Demo/BeamPositionCutoffY = 0.1 cm\n")
        outputfile.write("d:So/Demo/BeamPositionSpreadX = 0.1 cm\n")
        outputfile.write("d:So/Demo/BeamPositionSpreadY = 0.1 cm\n")
        outputfile.write("s:So/Demo/BeamAngularDistribution = \"Gaussian\"\n")
        outputfile.write("d:So/Demo/BeamAngularCutoffX     = 0.01 deg\n")
        outputfile.write("d:So/Demo/BeamAngularCutoffY     = 0.01 deg\n")
        outputfile.write("d:So/Demo/BeamAngularSpreadX     = 0.01 deg\n")
        outputfile.write("d:So/Demo/BeamAngularSpreadY     = 0.01 deg\n")
        outputfile.write("s:Sc/PhaseSpaceAtVacFilm/Quantity = \"PhaseSpace\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/OutputToConsole = \"True\"\n")
        outputfile.write("s:Sc/PhaseSpaceAtVacFilm/Surface = \"ZPhaseSpaceVol/ZMinusSurface\"\n")
        outputfile.write("s:Sc/PhaseSpaceAtVacFilm/OutputType = \"Binary\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeTOPASTime = \"False\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeTimeOfFlight = \"False\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeRunID   = \"False\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeEventID = \"False\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeTrackID = \"False\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeParentID = \"False\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeVertexInfo = \"True\"\n")
        outputfile.write("b:Sc/PhaseSpaceAtVacFilm/IncludeSeed = \"False\"\n")
        outputfile.write("sv:Sc/PhaseSpaceAtVacFilm/OnlyIncludeParticlesNamed = 2 \"proton\" \"neutron\"\n")
        outputfile.write("s:Sc/PhaseSpaceAtVacFilm/IfOutputFileAlreadyExists = \"Increment\"\n")
        outputfile.write(f"s:Sc/PhaseSpaceAtVacFilm/OutputFile = \"{out_d}/Phase\"\n")
        outputfile.write(f"s:Ge/Aperture/InputFile = \"ApertureFileIn.ap\"\n")

        outputfile.write(f"i:Ts/NumberOfThreads = {n_nodes}\n")
        outputfile.write("b:Ge/QuitIfOverlapDetected = \"F\"\n")
        outputfile.write("i:Ts/MaxInterruptedHistories = 100000000\n")

# 함수 호출 예시
if __name__ == "__main__":
    make_input("6", # FS
                "4", # RM
                "2", # SS
                "B5_1", # BCM option
                "66", # stop position
                "162.141648", # Energy
                "10", # nHistory
                "4", # nNodes
                "/output",
                )